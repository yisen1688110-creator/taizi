@import url("https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@400;600&display=swap");

:root {
  --bg-start: #0a0f1e;
  --bg-end: #121b35;
  --card-bg: rgba(18, 27, 53, 0.6);
  --card-border: rgba(129, 255, 248, 0.25);
  --accent: #00e5ff;
  --accent-2: #7c4dff;
  --text: #e6f1ff;
  --muted: #8ba0c7;
  --error: #ff5c7a;
  --card-w: clamp(1100px, 92vw, 1920px);
  --logo-h: clamp(220px, 28vw, 420px);
  --ring-size: clamp(260px, 32vw, 480px);
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  color: var(--text);
  background: radial-gradient(1400px circle at 50% 50%, #0a1530 0%, var(--bg-start) 45%, var(--bg-end) 100%);
}

.app, .screen {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  padding-bottom: 100px; /* 为底部导航留出空间 */
  flex-direction: column;
  gap: 16px;
  position: relative;
  overflow: hidden;
}
/* 置顶模式：让主卡片靠页面顶部显示 */
.screen.top-align {
  justify-content: flex-start;
  padding-top: clamp(24px, 5vh, 60px);
}

.card {
  width: 100%;
  max-width: min(100vw - 32px, var(--card-w));
  padding: 24px;
  border-radius: 20px;
  background: linear-gradient(180deg, rgba(20, 30, 60, 0.65), rgba(10, 18, 36, 0.55));
  border: 1px solid var(--card-border);
  box-shadow: 0 10px 30px rgba(0, 229, 255, 0.12), inset 0 0 0 1px rgba(124, 77, 255, 0.15);
  backdrop-filter: blur(10px);
}

/* 无边框模式：移除所有外框样式，内容适配到指定盒子尺寸 */
.screen.borderless { padding: 0; justify-content: flex-start; gap: 0; align-items: stretch; padding-left: clamp(12px, 6vw, 32px); padding-right: clamp(12px, 6vw, 32px); }
.card.borderless-card {
  background: transparent;
  border: none;
  box-shadow: none;
  border-radius: 0;
  padding: clamp(16px, 5vw, 32px);
  max-width: min(100vw, var(--card-w));
  width: 100%;
}
.borderless-card .settings-grid { width: 100%; max-width: var(--card-w); margin: 0 auto; }
.borderless-card .title { margin-left: clamp(8px, 1vw, 16px); }

.logo-area {
  width: 100%;
  max-width: var(--card-w);
  position: relative;
  height: var(--logo-h);
  border: none;
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  will-change: transform, opacity, filter;
}
.logo-img { width: 96px; height: 96px; opacity: 1; }
.logo-text {
  position: absolute;
  font-family: Orbitron, Inter, sans-serif;
  font-size: 14px;
  letter-spacing: 4px;
  color: var(--muted);
}

.title {
  font-family: Orbitron, Inter, sans-serif;
  margin: 4px 0 18px;
  font-size: clamp(24px, 2.6vw, 32px);
  text-shadow: 0 0 10px rgba(0, 229, 255, 0.2);
}

/* Back button (top-left) */
.back-btn {
  position: absolute;
  top: 12px;
  left: 12px;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  border: 1px solid var(--card-border);
  background: rgba(21,32,53,0.7);
  color: var(--text);
  display: grid;
  place-items: center;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(0, 229, 255, 0.08);
  user-select: none;
  caret-color: transparent;
}
.back-btn:hover { filter: brightness(1.08); }
.back-icon {
  width: 14px; height: 14px;
  border: solid var(--text);
  border-width: 0 0 2px 2px;
  transform: rotate(45deg);
  user-select: none;
  caret-color: transparent;
}

.form { display: flex; flex-direction: column; gap: 10px; }
.label { font-size: 13px; color: var(--muted); }
.input {
  height: 46px;
  padding: 0 12px;
  border-radius: 10px;
  border: 1px solid #263b5e;
  background: #0e1a2b;
  color: var(--text);
}
.input::placeholder { color: var(--muted); opacity: 0.85; }
/* 移除伪元素背景与动画，避免遮挡占位符文字 */
@keyframes aurora {}
.input:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(0, 229, 255, 0.12);
}

.error {
  margin-top: 2px;
  color: var(--error);
  font-size: 13px;
}

.btn {
  height: 48px;
  border: none;
  border-radius: 10px;
  font-weight: 600;
  color: #061223;
  cursor: pointer;
}
.btn.primary {
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
}
.btn.primary:hover { filter: brightness(1.06); }
.withdraw-btn {
  background: #5cff9b;
  color: #0f213a;
  border: 1px solid #5cff9b;
  padding: 10px 18px;
  border-radius: 12px;
  font-weight: 700;
  min-width: 140px;
}
.withdraw-btn:hover { filter: brightness(1.06); }

.sub-actions { margin-top: 10px; display: flex; justify-content: space-between; }
.link { color: var(--accent); text-decoration: none; }
.link:hover { text-decoration: underline; }

.desc { color: var(--muted); }

/* Withdraw page: brighten records button and fill mobile width */
.withdraw-screen { align-items: stretch; padding: 0; }
.withdraw-screen .card { width: 100%; max-width: 100%; border-radius: 0; padding: clamp(16px, 6vw, 32px); }
.withdraw-records-btn { height: 36px; padding: 0 12px; border: 1px solid var(--card-border); }
@media (max-width: 480px) {
  .withdraw-screen { padding-bottom: 60px; }
  .withdraw-screen .title { margin: 0 0 12px; }
  .withdraw-screen .form { gap: 12px; }
  .withdraw-screen .sub-actions { gap: 10px; }
}

.logo-area.enter { 
  animation: logoEnter 700ms cubic-bezier(0.22, 1, 0.36, 1) both 60ms;
}
@keyframes logoEnter {
  0% { opacity: 0; transform: translateY(-18px) scale(0.98); filter: blur(2px); }
  60% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
  100% { opacity: 1; transform: translateY(0); }
}
.screen::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    repeating-linear-gradient(0deg, rgba(140, 170, 220, 0.06) 0, rgba(140, 170, 220, 0.06) 1px, transparent 1px, transparent 24px),
    repeating-linear-gradient(90deg, rgba(140, 170, 220, 0.06) 0, rgba(140, 170, 220, 0.06) 1px, transparent 1px, transparent 24px),
    linear-gradient(180deg, rgba(0, 0, 0, 0.2), transparent);
  mix-blend-mode: soft-light;
  opacity: 0.35;
  pointer-events: none;
  z-index: 1;
}
.screen.borderless::after { display: none; }
.card { position: relative; z-index: 2; }
.logo-area { z-index: 2; }
.card.cyber-tilt {
  transform-style: preserve-3d;
  transition: transform 300ms cubic-bezier(0.22, 1, 0.36, 1), box-shadow 300ms ease;
  will-change: transform;
  transform: perspective(900px) rotateX(var(--rx, 0deg)) rotateY(var(--ry, 0deg)) translate3d(var(--tx, 0), var(--ty, 0), 0);
}
.card.cyber-tilt:hover {
  box-shadow: 0 20px 40px rgba(0, 229, 255, 0.15), inset 0 0 0 1px rgba(124, 77, 255, 0.2);
}
.card.cyber-tilt::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(90deg, rgba(0, 229, 255, 0.7), rgba(124, 77, 255, 0.7));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  animation: borderFlow 6s linear infinite;
  opacity: 0.6;
}
@keyframes borderFlow { 0% { filter: hue-rotate(0deg); } 100% { filter: hue-rotate(360deg); } }
.logo-area::before {
  content: "";
  position: absolute;
  width: 280px; height: 280px;
  border-radius: 50%;
  background: radial-gradient(closest-side, rgba(0, 229, 255, 0.18), transparent 70%);
  filter: blur(24px);
  opacity: 0.18;
  animation: orbPulse 8s ease-in-out infinite;
}
.logo-area::after {
  content: "";
  position: absolute;
  inset: 0;
  clip-path: inset(8px round 10px);
  background: radial-gradient(closest-side, rgba(255, 255, 255, 0.22), rgba(124, 77, 255, 0.18) 60%, transparent 100%);
  background-repeat: no-repeat;
  background-size: 240px 240px;
  background-position: -30% -30%;
  animation: sweepDot 3.8s cubic-bezier(0.22, 1, 0.36, 1) infinite;
  mix-blend-mode: screen;
  pointer-events: none;
}
@keyframes sweepDot {
  0%   { background-position: -30% -30%; }
  100% { background-position: 130% 130%; }
}
.btn { position: relative; overflow: hidden; }
.btn.primary::before {
  content: "";
  position: absolute;
  left: -40%; top: 0;
  width: 40%; height: 100%;
  background: linear-gradient(115deg, rgba(255, 255, 255, 0.0) 0%, rgba(255, 255, 255, 0.25) 50%, rgba(255, 255, 255, 0.0) 100%);
  transform: skewX(-12deg);
  animation: btnShimmer 2.6s ease-in-out infinite;
}
@keyframes btnShimmer { from { left: -40%; } to { left: 120%; } }
.link { position: relative; }
.link::after {
  content: "";
  position: absolute;
  left: 0; bottom: -2px;
  width: 100%; height: 1px;
  background: linear-gradient(to right, var(--accent), var(--accent-2));
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 300ms ease;
}
.link:hover::after { transform: scaleX(1); }

/* News cards layout */
.news-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
  width: 100%;
  max-width: var(--card-w);
  margin: 0 auto;
}
@media (min-width: 900px) {
  .news-grid { grid-template-columns: 1fr 1fr; }
}
.news-card {
  display: block;
  padding: 14px 16px;
  border-radius: 14px;
  background: linear-gradient(180deg, rgba(20, 30, 60, 0.55), rgba(10, 18, 36, 0.45));
  border: 1px solid var(--card-border);
  box-shadow: 0 8px 22px rgba(0, 229, 255, 0.08);
  color: var(--text);
  text-decoration: none;
}
.news-title { font-weight: 700; font-size: 16px; margin-bottom: 8px; }
.news-snippet { font-size: 14px; color: var(--text); opacity: 0.9; line-height: 1.5; }
.news-time { font-size: 12px; color: var(--muted); margin-top: 8px; }
.news-meta { color: var(--muted); font-size: 12px; margin-top: 6px; }

@media (min-width: 1024px) {
  .screen { padding: 40px; gap: 24px; }
  .card { max-width: var(--card-w); }
  .title { font-size: clamp(22px, 2.2vw, 28px); }
  .input { height: clamp(42px, 3.6vw, 52px); }
}

/* ---------------- Home wallet & avatar responsive ---------------- */
.avatar-wrap {
  display: flex;
  align-items: center;
  justify-content: center;
  width: clamp(56px, 18vw, 90px);
  height: clamp(56px, 18vw, 90px);
  border-radius: 50%;
  overflow: hidden;
  border: 1px solid rgba(129, 255, 248, 0.25);
  box-shadow: 0 6px 16px rgba(0, 229, 255, 0.18);
  background: radial-gradient(closest-side, rgba(0, 229, 255, 0.08), rgba(124, 77, 255, 0.06));
  z-index: 3;
}
.avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}
.user-name { color: var(--muted); }

.wallet-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}
@media (max-width: 600px) {
  .wallet-grid { grid-template-columns: 1fr 1fr; }
}
.big-amount {
  font-weight: 700;
  font-size: clamp(18px, 5.2vw, 24px);
  line-height: 1.28;
  white-space: normal; /* 允许在空格处换行 */
  max-width: 100%;
}

/* Mobile breakpoints for wallet */
@media (max-width: 414px) {
  .wallet-wrap { flex-direction: column; align-items: stretch; }
  .wallet-section { min-width: 100%; }
  .wallet-grid { grid-template-columns: 1fr; gap: 8px; }
  .avatar-wrap { width: clamp(58px, 22vw, 76px); height: clamp(58px, 22vw, 76px); }
  .big-amount { font-size: clamp(16px, 4.8vw, 22px); }
  .label { font-size: 12px; }
}
@media (max-width: 375px) {
  .wallet-grid { grid-template-columns: 1fr; }
  .avatar-wrap { width: clamp(54px, 24vw, 70px); height: clamp(54px, 24vw, 70px); }
  .big-amount { font-size: clamp(16px, 4.8vw, 20px); }
}
@media (max-width: 340px) {
  .wallet-grid { grid-template-columns: 1fr; gap: 6px; }
  .big-amount { font-size: 16px; }
}
.logo-img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  border-radius: 10px;
  opacity: 1;
}
.logo-text {
  position: absolute;
  font-family: Orbitron, Inter, sans-serif;
  font-size: 14px;
  letter-spacing: 4px;
  color: var(--muted);
}

.title {
  font-family: Orbitron, Inter, sans-serif;
  margin: 4px 0 18px;
  font-size: 22px;
  text-shadow: 0 0 10px rgba(0, 229, 255, 0.2);
}

.form { display: flex; flex-direction: column; gap: 10px; }
.label { font-size: 13px; color: var(--muted); }
.input {
  height: 42px;
  padding: 0 12px;
  border-radius: 10px;
  border: 1px solid #263b5e;
  background: #0e1a2b;
  color: var(--text);
  font-size: 16px; /* 防止 iOS 在输入框上自动放大 */
}
.input::placeholder { color: var(--muted); opacity: 0.85; }
@keyframes aurora {}
.input:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(0, 229, 255, 0.12);
}

/* 针对移动端再提升可读性，避免触发缩放 */
@media (max-width: 480px) {
  .label { font-size: 14px; }
  .input { font-size: 16px; }
}

/* 覆盖特定类型输入，确保不低于 16px */
input[type="tel"], input[type="password"], input[type="email"], input[type="text"] {
  font-size: 16px;
}

.error {
  margin-top: 2px;
  color: var(--error);
  font-size: 13px;
}

.btn {
  height: 44px;
  border: none;
  border-radius: 10px;
  font-weight: 600;
  color: #061223;
  cursor: pointer;
}
.btn.primary {
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
}
.btn.primary:hover { filter: brightness(1.06); }

.sub-actions { margin-top: 10px; display: flex; justify-content: space-between; }
.link { color: var(--accent); text-decoration: none; }
.link:hover { text-decoration: underline; }

.desc { color: var(--muted); }

.logo-area.enter { 
  animation: logoEnter 700ms cubic-bezier(0.22, 1, 0.36, 1) both 60ms;
}
@keyframes logoEnter {
  0% { opacity: 0; transform: translateY(-18px) scale(0.98); filter: blur(2px); }
  60% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
  100% { opacity: 1; transform: translateY(0); }
}
.screen::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    repeating-linear-gradient(0deg, rgba(140, 170, 220, 0.06) 0, rgba(140, 170, 220, 0.06) 1px, transparent 1px, transparent 24px),
    repeating-linear-gradient(90deg, rgba(140, 170, 220, 0.06) 0, rgba(140, 170, 220, 0.06) 1px, transparent 1px, transparent 24px),
    linear-gradient(180deg, rgba(0, 0, 0, 0.2), transparent);
  mix-blend-mode: soft-light;
  opacity: 0.35;
  pointer-events: none;
  z-index: 1;
}
.card { position: relative; z-index: 2; }
.logo-area { z-index: 2; }
.card.cyber-tilt {
  transform-style: preserve-3d;
  transition: transform 300ms cubic-bezier(0.22, 1, 0.36, 1), box-shadow 300ms ease;
  will-change: transform;
  transform: perspective(900px) rotateX(var(--rx, 0deg)) rotateY(var(--ry, 0deg)) translate3d(var(--tx, 0), var(--ty, 0), 0);
}
.card.cyber-tilt:hover {
  box-shadow: 0 20px 40px rgba(0, 229, 255, 0.15), inset 0 0 0 1px rgba(124, 77, 255, 0.2);
}
.card.cyber-tilt::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(90deg, rgba(0, 229, 255, 0.7), rgba(124, 77, 255, 0.7));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  animation: borderFlow 6s linear infinite;
  opacity: 0.6;
}
@keyframes borderFlow { 0% { filter: hue-rotate(0deg); } 100% { filter: hue-rotate(360deg); } }
.logo-area::before, .logo-area::after { content: none; }

.logo-img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  border-radius: 12px;
  opacity: 1;
  filter: drop-shadow(0 0 10px rgba(0,229,255,0.28)) drop-shadow(0 0 20px rgba(124,77,255,0.2));
  animation: logoBreath 4s ease-in-out infinite;
}
@keyframes logoBreath {
  0%, 100% { transform: scale(0.98); opacity: 0.92; }
  50% { transform: scale(1.03); opacity: 1; }
}
.btn { position: relative; overflow: hidden; }
.btn.primary::before {
  content: "";
  position: absolute;
  left: -40%; top: 0;
  width: 40%; height: 100%;
  background: linear-gradient(115deg, rgba(255, 255, 255, 0.0) 0%, rgba(255, 255, 255, 0.25) 50%, rgba(255, 255, 255, 0.0) 100%);
  transform: skewX(-12deg);
  animation: btnShimmer 2.6s ease-in-out infinite;
}
@keyframes btnShimmer { from { left: -40%; } to { left: 120%; } }
.link { position: relative; }
.link::after {
  content: "";
  position: absolute;
  left: 0; bottom: -2px;
  width: 100%; height: 1px;
  background: linear-gradient(to right, var(--accent), var(--accent-2));
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 300ms ease;
}
.link:hover::after { transform: scaleX(1); }

@media (min-width: 1024px) {
  .screen { padding: 40px; gap: 24px; }
  .card { max-width: var(--card-w); }
  .title { font-size: clamp(22px, 2.2vw, 28px); }
  .input { height: clamp(42px, 3.6vw, 52px); }
}
@media (min-width: 1280px) {
  .title { font-size: clamp(24px, 1.8vw, 32px); }
  .input { height: clamp(46px, 3vw, 56px); }
}
@media (min-width: 1600px) {
  .title { font-size: clamp(26px, 1.6vw, 36px); }
  .input { height: clamp(50px, 2.6vw, 62px); }
}
.card.cyber-tilt::before {
  pointer-events: none;
}
.btn.primary::before {
  pointer-events: none;
}

/* Admin layout additions for sidebar/content + modal */
.admin-layout { display: block; min-height: 100vh; }
.sidebar { background: #fff; border: 1px solid #e6eef8; border-radius: 10px; padding: 16px; position: sticky; top: 16px; height: calc(100vh - 48px); display: flex; flex-direction: column; }
.sidebar .brand { font-weight: 600; font-size: 18px; color: #334; }
.nav { display: flex; flex-direction: column; margin-top: 12px; gap: 8px; }
.nav-item { display: block; text-align: left; background: #f7f9fc; color: #333; border: 1px solid #dde6f2; border-radius: 8px; padding: 8px 10px; cursor: pointer; }
.nav-item.active { background: #2b7cff; color: #fff; border-color: #2b7cff; }
.sidebar-footer { margin-top: auto; color: #667; font-size: 13px; }
.content { min-height: 60vh; }

/* Admin 登录页专属布局：左侧登录框，右侧 Logo 自适应 */
.content.admin-login { display: grid; grid-template-columns: minmax(360px, 480px) 1fr; gap: 28px; align-items: center; width: min(92vw, 1200px); margin: 0 auto; }
.admin-login .login-box { justify-self: start; }
.admin-login .login-box.card { max-width: none; width: auto; padding: 26px; }
.admin-login .login-hero { display: flex; align-items: center; justify-content: center; min-height: 260px; overflow: hidden; border-radius: 14px; }
.admin-login .login-hero-img { width: 100%; max-width: 680px; height: auto; object-fit: contain; border-radius: 14px; filter: drop-shadow(0 10px 24px rgba(0,229,255,0.12)); }

@media (max-width: 920px) {
  .content.admin-login { grid-template-columns: 1fr; gap: 18px; width: 92vw; }
  .admin-login .login-hero { margin-top: 12px; }
}
.stats { display: grid; grid-template-columns: repeat(3,1fr); gap: 12px; }
.stat { background: rgba(21,32,53,0.7); border: 1px solid #263b5e; border-radius: 10px; padding: 12px; }
.stat-num { font-size: 24px; font-weight: 700; color: #e3e8f7; }
.stat-label { font-size: 13px; color: #a8b3cf; }

/* modal styles */
.modal { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: grid; place-items: center; z-index: 1000; overflow: auto; }
.modal-card { width: 680px; max-width: 92vw; max-height: 88vh; overflow: auto; background: rgba(21,32,53,0.9); border: 1px solid #263b5e; border-radius: 12px; padding: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.4); position: relative; top: auto; left: auto; transform: none; margin: 0; }
.modal-card.centered { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); }
.news-modal-card { max-height: 92vh; display: grid; grid-template-rows: auto auto 1fr; }
.news-content { -webkit-overflow-scrolling: touch; overscroll-behavior: contain; }
body.modal-open { overflow: hidden; }

.modal-title { font-weight: 700; font-size: clamp(18px, 4.8vw, 22px); }
.modal-body { font-size: clamp(14px, 4vw, 16px); }
.modal .input { height: clamp(44px, 6.5vh, 52px); font-size: clamp(16px, 4.2vw, 18px); }
.modal .btn { height: clamp(42px, 6vh, 48px); font-size: clamp(14px, 4vw, 16px); }
.admin-form-compact { display: grid; grid-template-columns: repeat(2, minmax(240px, 1fr)); gap: 12px; align-items: center; }
.admin-form-compact .label { font-size: 14px; opacity: .9; }
.admin-form-compact .input { height: 36px; font-size: 14px; max-width: 100%; width: 100%; }

/* Institution Blocks mobile tweaks */
@media (max-width: 640px) {
  .admin-form-compact { grid-template-columns: 1fr; }
  .admin-form-compact .input { max-width: 100%; width: 100%; }
  /* collapse two-column detail grid in blocks cards */
  .inst-card .card div[style*="grid-template-columns: 1fr 1fr"] { grid-template-columns: 1fr !important; }
  /* ensure tag badge wraps and doesn't overflow */
  .inst-card .card .tag { white-space: normal !important; overflow: hidden; text-overflow: ellipsis; }
}

@media (max-width: 920px) {
  .admin-layout { display: block !important; align-items: stretch; justify-content: flex-start; padding: 0; }
  .admin-layout .sidebar { position: fixed; left: 0; top: 0; width: 280px; height: 100vh; border-radius: 0; z-index: 20; }
  .admin-layout .content { margin-left: 280px; padding: 24px 28px; max-width: none; }
  .admin-layout .content .card { max-width: none; width: 100%; }
  /* 窄屏响应 */
  @media (max-width: 920px) {
    .admin-layout .sidebar { width: 72px; }
    .admin-layout .content { margin-left: 72px; padding: 16px; }
    .sidebar .brand { display: none; }
  }
  .admin-layout .card { max-width: 1200px; padding: 20px 24px; }
  .stats { grid-template-columns: repeat(3, minmax(220px, 1fr)); gap: 20px; }
  .stat { padding: 16px 14px; }
  .stat-num { font-size: 28px; }
  .content table { font-size: 14px; }
  .content table th, .content table td { padding: 12px 10px; }
  .modal-card { width: 680px; padding: 20px; }
}

.lang-bar { position: fixed; top: 14px; right: 14px; display: flex; align-items: center; gap: 8px; z-index: 10; }
.lang-label { font-size: 12px; color: var(--muted); }
.btn.lang { height: 32px; padding: 0 10px; border-radius: 8px; background: linear-gradient(90deg, var(--accent), var(--accent-2)); color: #061223; border: none; font-weight: 600; cursor: pointer; }

@keyframes orbPulse {
  0%, 100% { transform: scale(0.98); opacity: 0.8; }
  50% { transform: scale(1.02); opacity: 1; }
}
@keyframes sweep { to { transform: translateX(100%); } }
.btn { position: relative; overflow: hidden; }
.btn.primary::before {
  content: "";
  position: absolute;
  left: -40%; top: 0;
  width: 40%; height: 100%;
  background: linear-gradient(115deg, rgba(255, 255, 255, 0.0) 0%, rgba(255, 255, 255, 0.25) 50%, rgba(255, 255, 255, 0.0) 100%);
  transform: skewX(-12deg);
  animation: btnShimmer 2.6s ease-in-out infinite;
}
@keyframes btnShimmer { from { left: -40%; } to { left: 120%; } }
.link { position: relative; }
.link::after {
  content: "";
  position: absolute;
  left: 0; bottom: -2px;
  width: 100%; height: 1px;
  background: linear-gradient(to right, var(--accent), var(--accent-2));
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 300ms ease;
}
.link:hover::after { transform: scaleX(1); }

@media (min-width: 1024px) {
  .screen { padding: 40px; gap: 24px; }
  .card { max-width: var(--card-w); }
  .title { font-size: clamp(22px, 2.2vw, 28px); }
  .input { height: clamp(42px, 3.6vw, 52px); }
}
@media (min-width: 1280px) {
  .title { font-size: clamp(24px, 1.8vw, 32px); }
  .input { height: clamp(46px, 3vw, 56px); }
}
@media (min-width: 1600px) {
  .title { font-size: clamp(26px, 1.6vw, 36px); }
  .input { height: clamp(50px, 2.6vw, 62px); }
}
.card.cyber-tilt::before {
  pointer-events: none;
}
.btn.primary::before {
  pointer-events: none;
}

/* Admin 布局修正（桌面端强制生效） */
.app.admin-app { display: block !important; padding: 0 !important; align-items: stretch !important; justify-content: flex-start !important; overflow: visible !important; background: #f5f7fb; color: #222; }
.admin-layout { display: block !important; }
.admin-layout .sidebar { position: fixed; left: 0; top: 0; width: 280px; height: 100vh; border-radius: 0; z-index: 20; }
.admin-layout .content { margin-left: 280px; padding: 24px 28px; width: calc(100vw - 280px); max-width: none; }
.admin-layout .admin-topbar {
  position: sticky;
  top: 0;
  z-index: 10;
  background: #f7f9fc;
  border-bottom: 1px solid #e6eef8;
  height: 52px;
  padding: 0 16px;
  display: flex;
  align-items: center;
}
.admin-layout .topbar-title { color: #334; font-size: 15px; font-weight: 600; }

.admin-layout .admin-toolbar { position: sticky; top: 52px; z-index: 8; background: #fbfcfe; border-bottom: 1px solid #e9f0fa; height: 44px; padding: 0 12px; display: flex; align-items: center; }
.admin-layout .admin-toolbar .toolbar-inner { display: flex; gap: 10px; height: 100%; align-items: center; flex-wrap: nowrap; }
.admin-layout .admin-toolbar .pill { height: 28px; padding: 0 12px; border: 1px solid #dde6f2; border-radius: 16px; background: #fff; color: #333; font-size: 13px; display: inline-flex; align-items: center; justify-content: center; white-space: nowrap; }
.admin-layout .admin-toolbar .pill.active { background: #2b7cff; color: #fff; border-color: #2b7cff; }

/* 内容区：对齐两条横条的总高度 */
.admin-layout .content-inner { padding-top: 24px; }
.admin-layout .content-inner { width: min(1200px, 100%); margin: 0 auto; display: block; padding: 0 12px; }
/* 覆盖 admin 内部卡片为白色主题 */
.admin-layout .card { background: #fff; border: 1px solid #e6eef8; color: #222; }

/* 表格分隔线统一为浅色（覆盖内联样式） */
.content table tr { border-top: 1px solid #e6eef8 !important; }

/* 概览页：头部区（Hello + 状态标签 + 公告栏） */
.overview-header { display: grid; grid-template-columns: 1fr 280px; gap: 14px; margin-bottom: 14px; }
.ov-greet.card.flat, .notice.card.flat { background: #fff; border: 1px solid #e6eef8; border-radius: 8px; padding: 12px; }
.ov-hello { display: flex; align-items: center; gap: 10px; }
.avatar-sm { width: 36px; height: 36px; border-radius: 50%; background: linear-gradient(135deg, #7ec8ff, #b4e2ff); }
.hello-text .hello-title { font-size: 16px; font-weight: 600; color: #222; }
.hello-text .hello-sub { font-size: 13px; color: #666; }
.chips { display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap; }
.chip { height: 24px; padding: 0 10px; border-radius: 12px; font-size: 12px; display: inline-flex; align-items: center; }
.chip.info { background: #e8f2ff; color: #2b7cff; }
.chip.warn { background: #fff5e6; color: #ff8a00; }
.chip.ok { background: #eaf8ee; color: #2b8a3e; }
.chip.new { background: #f2e9ff; color: #7c4dff; }

.notice-title { font-size: 14px; font-weight: 600; color: #333; margin-bottom: 8px; }
.notice-body { display: flex; gap: 10px; }
.qr-placeholder { width: 86px; height: 86px; background: #f3f6fb; border: 1px dashed #cdd9ea; border-radius: 6px; }
.notice-list { font-size: 12px; color: #666; display: grid; gap: 6px; }

/* 概览页：三列白卡栅格 */
.overview-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; margin-top: 14px; }
.ov-card { background: #fff; border: 1px solid #e6eef8; border-radius: 8px; padding: 12px; }
.ov-icon { width: 36px; height: 36px; border-radius: 6px; display: grid; place-items: center; font-size: 18px; background: #f3f7fc; color: #2b7cff; }
.ov-title { margin-top: 8px; font-size: 14px; font-weight: 600; color: #222; }
.ov-desc { margin-top: 6px; font-size: 12px; color: #666; }
.btn.slim { height: 28px; margin-top: 10px; padding: 0 12px; font-size: 12px; }
/* 通用白卡样式：用于概览和管理模块 */
.card.flat { background: #fff; border: 1px solid #e6eef8; border-radius: 8px; padding: 12px; color: #222; }
.stats.compact { display: flex; gap: 12px; margin-top: 10px; }
.stats.compact .stat { display: grid; gap: 2px; }
.stats.compact .stat-num { font-size: 14px; font-weight: 600; color: #222; }
.stats.compact .stat-label { font-size: 12px; color: #666; }

/* Admin Tech Theme (Dark Neon) */
 .app.admin-app {
   --bg: #0b1220;
   --surface: #141b2d;
   --surface-2: #0f172a;
   --border: #2a3d5f; /* 更亮边框提升层次 */
   --text: #eef6ff;  /* 更亮主文本提高可读性 */
   --muted: #c8d6ea; /* 次级文本略提亮 */
   --accent: #00eaff; /* 赛博青更显霓虹感 */
   --accent-2: #7c4dff;
   --accent-grad: linear-gradient(135deg, #00eaff 0%, #2bb0ff 50%, #7c4dff 100%);
   --shadow: 0 8px 26px rgba(0, 234, 255, 0.18);
 }
.app.admin-app, .admin-layout { background: var(--bg); color: var(--text); }
.admin-layout .content { background: transparent; }
.admin-layout .sidebar { background: var(--surface); border-right: 1px solid var(--border); color: var(--muted); }
.sidebar .nav a { color: var(--text); }
.sidebar .nav a.active { background: rgba(43, 176, 255, 0.12); color: #c8e7ff; border: 1px solid rgba(43, 176, 255, 0.40); }
.admin-layout .nav-item { background: rgba(255,255,255,0.06); color: var(--text); border: 1px solid var(--border); }
.admin-layout .nav-item.active { background: rgba(43, 176, 255, 0.12); color: #c8e7ff; border-color: rgba(43, 176, 255, 0.40); }
.sidebar .nav .nav-group details { border: none; background: transparent; padding: 0; }
.sidebar .nav .nav-group summary.nav-item { border: 1px solid var(--border); background: rgba(255,255,255,0.06); text-align: left; font-size: 14px; padding: 8px 12px; border-radius: 8px; }
.sidebar .nav .nav-sub { display: flex; flex-direction: column; gap: 6px; padding: 6px 0; }
.sidebar .nav .nav-sub .nav-item { border: none !important; background: transparent !important; text-align: center; font-size: 14px; padding: 6px 0; }
.sidebar .nav .nav-sub .nav-item.active { background: rgba(43, 176, 255, 0.12) !important; border: none !important; }
.admin-layout .admin-topbar, .admin-layout .admin-toolbar { background: var(--surface-2); border-bottom: 1px solid var(--border); box-shadow: 0 4px 16px rgba(0,0,0,0.4); }
.admin-layout .admin-toolbar .pill { background: rgba(255,255,255,0.06); border: 1px solid var(--border); color: var(--text); }
.admin-layout .card, .card.flat, .ov-card { background: var(--surface); border: 1px solid var(--border); color: var(--text); }
.ov-icon { background: rgba(43,176,255,0.18); color: #8dd7ff; }
.ov-title { color: var(--text); }
.ov-desc { color: var(--muted); }
.ov-greet.card.flat, .notice.card.flat { background: var(--surface); border: 1px solid var(--border); color: var(--text); }
.notice-title { color: var(--text); }
.notice-list { color: var(--muted); }
.app.admin-app .btn { background: var(--accent-grad); color: #fff; border: 0; box-shadow: var(--shadow); }
.app.admin-app .btn:hover { filter: brightness(1.08); }
.app.admin-app .btn.slim { background: var(--accent-grad); color: #fff; border: 0; box-shadow: var(--shadow); }
.app.admin-app .link { color: var(--accent); }
.app.admin-app .chip.info { background: rgba(43,176,255,0.16); color: #8dd7ff; }
.app.admin-app .chip.warn { background: rgba(255,138,0,0.18); color: #ffb36a; }
.app.admin-app .chip.ok { background: rgba(43,138,62,0.16); color: #87d6a3; }
.app.admin-app .chip.new { background: rgba(124,77,255,0.18); color: #c8b3ff; }
.admin-layout .content table tr { border-top: 1px solid var(--border) !important; }

/* Readability & Cyber tweaks */
.admin-layout h1, .admin-layout h2, .admin-layout h3, .admin-layout .title {
  color: var(--text);
  text-shadow: 0 0 6px rgba(0, 234, 255, 0.12);
}
.admin-layout .desc, .ov-desc, .notice-list, .stats .stat-label, .stats.compact .stat-label {
  color: var(--muted);
}
.sidebar .nav a { color: var(--text); opacity: 0.92; }
.admin-layout .admin-toolbar .pill { color: var(--text); }
.admin-layout .nav-item { color: var(--text); }
.qr-placeholder { border-color: var(--border); }
.app.admin-app .btn:focus-visible { box-shadow: 0 0 0 2px rgba(0,234,255,0.5) inset, var(--shadow); }
.app.admin-app .link { color: var(--accent); text-underline-offset: 3px; }

/* 移动端响应式布局优化 */
@media (max-width: 768px) {
  .screen {
    padding: 16px;
    gap: 16px;
  }
  
  .app-header {
    top: 12px;
    right: 12px;
  }
  
  .avatar {
    width: 28px;
    height: 28px;
  }
  
  .user-name {
    font-size: 12px;
  }
  
  .card {
    padding: 16px;
    margin: 0;
    width: 100%;
    box-sizing: border-box;
    max-width: min(100vw - 24px, var(--card-w));
  }
  
  .big-amount {
    font-size: 28px;
  }
  
  .title {
    font-size: 18px;
  }
  
  .sub-actions {
    flex-direction: column;
    gap: 8px;
  }
  
  .sub-actions .btn {
    width: 100%;
  }
  
  /* 市场概览网格优化 */
  .card div[style*="grid-template-columns: repeat(3, 1fr)"] {
    grid-template-columns: 1fr !important;
    gap: 8px !important;
  }
  
  /* 底部导航优化 */
  .bottom-nav {
    padding: 8px 16px;
  }
  
  .bottom-nav .pill {
    min-width: 44px;
    min-height: 44px;
  }
}

@media (max-width: 480px) {
  .screen {
    padding: 12px;
  }
  
  .app-header {
    top: 8px;
    right: 8px;
  }
  
  .card {
    padding: 12px;
  }
  
  .big-amount {
    font-size: 24px;
  }
  
  .title {
    font-size: 16px;
  }
}

/* 底部导航基础样式（去方框，仅保留图标；闪电为圆形底） */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(21, 32, 53, 0.95);
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  padding: 12px 16px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  z-index: 100;
}

.bottom-nav .pill {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.7);
  font-size: 12px;
  transition: transform 0.2s ease, color 0.2s ease;
  cursor: pointer;
  min-width: 56px; /* 保持触控面积 */
  min-height: 56px;
  padding: 0;
  position: relative;
}

.bottom-nav .pill:hover { transform: scale(1.06); }
.bottom-nav .pill.active { color: #5cff9b; }

.pill-icon { width: 30px; height: 30px; }
.pill-icon.lightning-icon { width: 36px; height: 36px; position: relative; left: 2.5px; }

/* 闪电图标的圆形底（仅中间按钮） */
.bottom-nav .pill.lightning { display: grid; place-items: center; }
.bottom-nav .pill.lightning::before {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 54px;
  height: 54px;
  border-radius: 50%;
  background: linear-gradient(135deg, #5cff9b, #00e5ff);
  box-shadow: 0 8px 22px rgba(0, 229, 255, 0.18);
  z-index: -1; /* 置于图标下方 */
  animation: lightningBreath 2.8s ease-in-out infinite;
  transform: translate(-50%, -50%);
}

/* 呼吸灯动画（轻微缩放与亮度变化）——保持居中位移 */
@keyframes lightningBreath {
  0%   { transform: translate(-50%, -50%) scale(0.98); filter: brightness(0.96); opacity: 0.88; }
  50%  { transform: translate(-50%, -50%) scale(1.06); filter: brightness(1.08); opacity: 1; }
  100% { transform: translate(-50%, -50%) scale(0.98); filter: brightness(0.96); opacity: 0.88; }
}

/* 头像和用户信息样式（限定 app-header 场景，避免全局影响其它页面头像） */
.app-header .avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid rgba(255, 255, 255, 0.2);
}

/* 通用头像容器：确保头像填满圆圈 */
.avatar-wrap {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  overflow: hidden;
  border: 1px solid #263b5e;
}
.avatar-wrap .avatar {
  width: 100% !important;
  height: 100% !important;
  display: block;
  object-fit: cover;
  object-position: center;
  border-radius: 50%;
}

.app-header {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
  z-index: 10;
}

.user-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.user-name {
  font-size: 14px;
  font-weight: 500;
  color: #fff;
  white-space: nowrap;
}

/* 移动端输入聚焦防缩放：强制 16px 字号避免 iOS 自动放大 */
@media (max-width: 920px) {
  .input,
  input,
  select,
  textarea {
    font-size: 16px !important;
  }
}

/* iOS 文本大小调整：保持按设计比例渲染 */
html, body { -webkit-text-size-adjust: 100%; }

/* Marked areas font tuning */
.sidebar .brand {
  color: var(--text);
  font-weight: 700;
  font-size: 16px;
  letter-spacing: 0.3px;
  text-shadow: 0 0 6px rgba(0,234,255,0.10);
}
.admin-topbar .topbar-title {
  color: var(--text);
  font-weight: 700;
  font-size: 16px;
  letter-spacing: 0.3px;
  text-shadow: 0 0 8px rgba(0,234,255,0.12);
}
.admin-toolbar .pill { font-weight: 600; }
.admin-layout .nav-item { font-weight: 600; }
.hello-text .hello-title, .ov-title {
  color: var(--text);
  font-weight: 700;
  letter-spacing: 0.2px;
}
.hello-text .hello-sub { color: var(--muted); }

.notice-title { font-size: 14px; font-weight: 600; color: #333; margin-bottom: 8px; }
.notice-body { display: flex; gap: 10px; }
.qr-placeholder { width: 86px; height: 86px; background: #f3f6fb; border: 1px dashed #cdd9ea; border-radius: 6px; }
.notice-list { font-size: 12px; color: #666; display: grid; gap: 6px; }

/* 概览页：三列白卡栅格 */
.overview-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; margin-top: 14px; }
.ov-card { background: #fff; border: 1px solid #e6eef8; border-radius: 8px; padding: 12px; }
.ov-icon { width: 36px; height: 36px; border-radius: 6px; display: grid; place-items: center; font-size: 18px; background: #f3f7fc; color: #2b7cff; }
.ov-title { margin-top: 8px; font-size: 14px; font-weight: 600; color: #222; }
.ov-desc { margin-top: 6px; font-size: 12px; color: #666; }
.btn.slim { height: 28px; margin-top: 10px; padding: 0 12px; font-size: 12px; }
/* 通用白卡样式：用于概览和管理模块 */
.card.flat { background: #fff; border: 1px solid #e6eef8; border-radius: 8px; padding: 12px; color: #222; }
.stats.compact { display: flex; gap: 12px; margin-top: 10px; }
.stats.compact .stat { display: grid; gap: 2px; }
.stats.compact .stat-num { font-size: 14px; font-weight: 600; color: #222; }
.stats.compact .stat-label { font-size: 12px; color: #666; }

/* Admin Tech Theme (Dark Neon) */
 .app.admin-app {
   --bg: #0b1220;
   --surface: #141b2d;
   --surface-2: #0f172a;
   --border: #2a3d5f; /* 更亮边框提升层次 */
   --text: #eef6ff;  /* 更亮主文本提高可读性 */
   --muted: #c8d6ea; /* 次级文本略提亮 */
   --accent: #00eaff; /* 赛博青更显霓虹感 */
   --accent-2: #7c4dff;
   --accent-grad: linear-gradient(135deg, #00eaff 0%, #2bb0ff 50%, #7c4dff 100%);
   --shadow: 0 8px 26px rgba(0, 234, 255, 0.18);
 }
.app.admin-app, .admin-layout { background: var(--bg); color: var(--text); }
.admin-layout .content { background: transparent; }
.admin-layout .sidebar { background: var(--surface); border-right: 1px solid var(--border); color: var(--muted); }
.sidebar .nav a { color: var(--text); }
.sidebar .nav a.active { background: rgba(43, 176, 255, 0.12); color: #c8e7ff; border: 1px solid rgba(43, 176, 255, 0.40); }
.admin-layout .nav-item { background: rgba(255,255,255,0.06); color: var(--text); border: 1px solid var(--border); }
.admin-layout .nav-item.active { background: rgba(43, 176, 255, 0.12); color: #c8e7ff; border-color: rgba(43, 176, 255, 0.40); }
.admin-layout .admin-topbar, .admin-layout .admin-toolbar { background: var(--surface-2); border-bottom: 1px solid var(--border); box-shadow: 0 4px 16px rgba(0,0,0,0.4); }
.admin-layout .admin-toolbar .pill { background: rgba(255,255,255,0.06); border: 1px solid var(--border); color: var(--text); }
.admin-layout .card, .card.flat, .ov-card { background: var(--surface); border: 1px solid var(--border); color: var(--text); }
.ov-icon { background: rgba(43,176,255,0.18); color: #8dd7ff; }
.ov-title { color: var(--text); }
.ov-desc { color: var(--muted); }
.ov-greet.card.flat, .notice.card.flat { background: var(--surface); border: 1px solid var(--border); color: var(--text); }
.notice-title { color: var(--text); }
.notice-list { color: var(--muted); }
.app.admin-app .btn { background: var(--accent-grad); color: #fff; border: 0; box-shadow: var(--shadow); }
.app.admin-app .btn:hover { filter: brightness(1.08); }
.app.admin-app .btn.slim { background: var(--accent-grad); color: #fff; border: 0; box-shadow: var(--shadow); }
.app.admin-app .link { color: var(--accent); }
.app.admin-app .chip.info { background: rgba(43,176,255,0.16); color: #8dd7ff; }
.app.admin-app .chip.warn { background: rgba(255,138,0,0.18); color: #ffb36a; }
.app.admin-app .chip.ok { background: rgba(43,138,62,0.16); color: #87d6a3; }
.app.admin-app .chip.new { background: rgba(124,77,255,0.18); color: #c8b3ff; }
.admin-layout .content table tr { border-top: 1px solid var(--border) !important; }

/* Readability & Cyber tweaks */
.admin-layout h1, .admin-layout h2, .admin-layout h3, .admin-layout .title {
  color: var(--text);
  text-shadow: 0 0 6px rgba(0, 234, 255, 0.12);
}
.admin-layout .desc, .ov-desc, .notice-list, .stats .stat-label, .stats.compact .stat-label {
  color: var(--muted);
}
.sidebar .nav a { color: var(--text); opacity: 0.92; }
.admin-layout .admin-toolbar .pill { color: var(--text); }
.admin-layout .nav-item { color: var(--text); }
.qr-placeholder { border-color: var(--border); }
.app.admin-app .btn:focus-visible { box-shadow: 0 0 0 2px rgba(0,234,255,0.5) inset, var(--shadow); }
.app.admin-app .link { color: var(--accent); text-underline-offset: 3px; }
/* Bottom nav: hide labels and adjust icon sizes */
.bottom-nav { position: fixed; left: 0; right: 0; bottom: 0; display: flex; gap: 10px; justify-content: space-around; align-items: center; padding: 8px; background: rgba(10,18,36,0.85); backdrop-filter: blur(8px); border-top: 1px solid #263b5e; z-index: 100; }
.bottom-nav .pill { display: grid; place-items: center; background: transparent; border: none; color: #e6f1ff; border-radius: 50%; padding: 0; min-width: 56px; }
.bottom-nav .pill .pill-label { display: none; }
.bottom-nav .pill .pill-icon { width: 30px; height: 30px; }
.bottom-nav .pill.lightning .pill-icon, .bottom-nav .lightning-icon { width: 36px; height: 36px; }
/* Hide text caret for non-editable elements to avoid global blinking cursor */
*:not(input):not(textarea):not([contenteditable="true"]) {
  caret-color: transparent;
}
